<div class="mt-3 mb-3">
  <h5>{{ 'ACCOUNT_DETAILS' | translate }}</h5>
  <span class="text-muted">{{ 'DASHBOARD' | translate }}
    <i [ngClass]="'fa-solid ' + ('icon-class' | translate)"></i>
    {{ 'CHECK' | translate }}
    <i [ngClass]="'fa-solid ' + ('icon-class' | translate)"></i>
    {{ 'SHOW_CHECK' | translate }}
  </span>
</div>

<div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card shadow rounded-lg mb-4">
        <div class="card-header bg-primary text-white rounded-top">
          <h5 class="mb-0">{{ 'CHECK_DETAILS' | translate }}</h5>
        </div>

        <div class="card-body">
          <div class="row">

            <!-- Left Info -->
            <div class="col-md-6">
              <div class="mb-3">
                <label class="fw-bold">{{ 'FROM_ACCOUNT_ARABIC' | translate }}:</label>
                <p class="text-muted">{{ check?.source_account.name }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'TO_ACCOUNT_ARABIC' | translate }}:</label>
                <p class="text-muted">{{ check?.payed_to?.name }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'CURRENCY' | translate }}:</label>
                <p class="text-muted">{{ check?.currency?.name }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'BANK_BRANCH' | translate }}:</label>
                <p class="text-muted">{{ check?.bank_branch?.name || '-' }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'BANK_ACCOUNT' | translate }}:</label>
                <p class="text-muted">{{ check?.bank_account || '-' }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'NOTE' | translate }}:</label>
                <p class="text-muted">{{ check?.note }}</p>
              </div>
            </div>

            <!-- Right Info -->
            <div class="col-md-6">
              <div class="mb-3">
                <label class="fw-bold">{{ 'TYPE' | translate }}:</label>
                <p class="text-muted">{{ check?.type }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'AMOUNT' | translate }}:</label>
                <p class="text-muted">{{ check?.amount }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'STATUS' | translate }}:</label>
                <p class="badge bg-warning text-dark">{{ check?.status }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{ 'DUE_DATE' | translate }}:</label>
                <p class="text-muted">{{ check?.due_date }}</p>
              </div>
              <div class="mb-3">
                <label class="fw-bold">{{"CHECK_NUMBER"|translate}}:</label>
                <p class="text-muted">{{check?.check_number}}</p>
              </div>


            </div>
            <!-- Check Moves Section -->
            <div class="card shadow rounded-lg mb-4 mt-4">
              <div class="card-header rounded-top">
                <h5 class="mb-0">{{ 'CHECK_MOVES' | translate }}</h5>
              </div>
            
              <div class="card-body bg-light">
                <div *ngIf="check?.checkDocuments?.length > 0; else noMoves">
                  <div *ngFor="let doc of check?.checkDocuments" class="mb-4 p-3 rounded shadow-sm bg-white">
                    <div class="row g-4">
                      
                      <!-- FROM OLD ACCOUNT -->
                      <div class="col-md-6">
                        <h6 class="text-primary fw-bold mb-2">{{ 'FROM_OLD_ACCOUNT' | translate }}</h6>
                        <div class="border rounded p-2">
                          <p class="mb-1"><strong>{{ 'NAME' | translate }}:</strong> {{ doc.old_source_account?.name }}</p>
                          <p class="mb-1"><strong>{{ 'ACCOUNT_TYPE' | translate }}:</strong> {{ doc.old_source_account?.type }}</p>
                          <p class="mb-1"><strong>{{ 'CURRENT_BALANCE' | translate }}:</strong> {{ doc.old_source_account?.current_balance }}</p>
                          <p class="mb-1"><strong>{{ 'FINANCIAL_CONDITION' | translate }}:</strong> {{ doc.old_source_account?.financial_condition }}</p>
                          <p class="mb-1"><strong>{{ 'NET_CREDIT' | translate }}:</strong> {{ doc.old_source_account?.net_credit }}</p>
                          <p class="mb-1"><strong>{{ 'NET_DEBIT' | translate }}:</strong> {{ doc.old_source_account?.net_debit }}</p>
                          <p class="mb-1"><strong>{{ 'CURRENCY' | translate }}:</strong> {{ doc.old_source_account?.currency?.name }}</p>
                          <p class="mb-1"><strong>{{ 'START_BALANCE' | translate }}:</strong> {{ doc.old_source_account?.start_balance }}</p>
                          <p class="mb-1"><strong>{{ 'CREATED_AT' | translate }}:</strong> {{ doc.old_source_account?.created_at }}</p>
                          <p class="mb-0"><strong>{{ 'UPDATED_AT' | translate }}:</strong> {{ doc.old_source_account?.updated_at }}</p>
                        </div>
                      </div>
            
                      <!-- TO OLD ACCOUNT -->
                      <div class="col-md-6">
                        <h6 class="text-primary fw-bold mb-2">{{ 'TO_OLD_ACCOUNT' | translate }}</h6>
                        <div class="border rounded p-2">
                          <p class="mb-1"><strong>{{ 'NAME' | translate }}:</strong> {{ doc.old_payed_to?.name }}</p>
                          <p class="mb-1"><strong>{{ 'ACCOUNT_TYPE' | translate }}:</strong> {{ doc.old_payed_to?.type }}</p>
                          <p class="mb-1"><strong>{{ 'CURRENT_BALANCE' | translate }}:</strong> {{ doc.old_payed_to?.current_balance }}</p>
                          <p class="mb-1"><strong>{{ 'FINANCIAL_CONDITION' | translate }}:</strong> {{ doc.old_payed_to?.financial_condition }}</p>
                          <p class="mb-1"><strong>{{ 'NET_CREDIT' | translate }}:</strong> {{ doc.old_payed_to?.net_credit }}</p>
                          <p class="mb-1"><strong>{{ 'NET_DEBIT' | translate }}:</strong> {{ doc.old_payed_to?.net_debit }}</p>
                          <p class="mb-1"><strong>{{ 'CURRENCY' | translate }}:</strong> {{ doc.old_payed_to?.currency?.name }}</p>
                          <p class="mb-1"><strong>{{ 'START_BALANCE' | translate }}:</strong> {{ doc.old_payed_to?.start_balance }}</p>
                          <p class="mb-1"><strong>{{ 'CREATED_AT' | translate }}:</strong> {{ doc.old_payed_to?.created_at }}</p>
                          <p class="mb-0"><strong>{{ 'UPDATED_AT' | translate }}:</strong> {{ doc.old_payed_to?.updated_at }}</p>
                        </div>
                      </div>
            
                      <!-- DOCUMENT DETAILS -->
                      <div class="col-md-6">
                        <h6 class="text-success fw-bold mt-1">{{ 'DOCUMENTABLE_TYPE' | translate }}</h6>
                        <div class="border rounded p-2 bg-light">
                          <p class="mb-1"><strong>{{ 'TYPE' | translate }}:</strong> {{ doc.documentable_type }}</p>
                        </div>
                      </div>
            
                      <div class="col-md-6">
                        <h6 class="text-success fw-bold mt-1">{{ 'DOCUMENT_NOTE' | translate }}</h6>
                        <div class="border rounded p-2 bg-light">
                          <p class="mb-1">{{ doc.note }}</p>
                        </div>
                      </div>
            
                      <div class="col-md-6">
                        <h6 class="text-success fw-bold mt-1">{{ 'DOCUMENT_DATE' | translate }}</h6>
                        <div class="border rounded p-2 bg-light">
                          <p class="mb-1">{{ doc.created_at }}</p>
                        </div>
                      </div>
            
                    </div>
                  </div>
                </div>
            
                <ng-template #noMoves>
                  <div class="text-center p-4">
                    <p class="text-muted">{{ 'NO_CHECK_MOVES' | translate }}</p>
                  </div>
                </ng-template>
              </div>
            </div>
            
            

            <!-- Images Section -->
            <div class="col-md-6 mt-4">
              <div class="card h-100 shadow-sm">
                <div class="card-header text-center bg-light">
                  <strong>{{ 'FRONT_IMAGE' | translate }}</strong>
                </div>
                <div class="card-body text-center">
                  <img [src]="check?.front_image" alt="Front Image" class="img-fluid rounded">
                </div>
              </div>
            </div>

            <div class="col-md-6 mt-4">
              <div class="card h-100 shadow-sm">
                <div class="card-header text-center bg-light">
                  <strong>{{ 'BACK_IMAGE' | translate }}</strong>
                </div>
                <div class="card-body text-center">
                  <img [src]="check?.back_image" alt="Back Image" class="img-fluid rounded">
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="text-center mb-4">
        <button type="button" (click)="back()" class="btn btn-outline-primary px-5">
          {{ 'BACK' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>